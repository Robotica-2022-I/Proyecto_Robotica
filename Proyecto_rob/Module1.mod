MODULE Module1
    CONST jointtarget JointTarget_6:=[[0,0,0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_0:=[[100,-160,170],[0,0,0.707106781,0.707106781],[-1,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_1:=[[100,-160,200],[0,0,0.707106781,0.707106781],[-1,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_2:=[[100,-205,200],[0,0,0.707106781,0.707106781],[-1,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_3:=[[-250,-205,200],[0,0,0.707106781,0.707106781],[-1,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_4:=[[-250,-5,200],[0,0,0.707106781,0.707106781],[-1,1,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_5:=[[-250,48,200],[0,0,0.707106781,0.707106781],[-1,1,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_5_2:=[[-250,48,200],[0,0,0.707106781,0.707106781],[-1,1,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_6:=[[-250,48,200],[0,0,0.707106781,0.707106781],[-1,1,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_7:=[[-250,50,170],[0,0,0.707106781,0.707106781],[-1,1,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_8:=[[-250,-55,170],[0,0,0.707106781,0.707106781],[-1,1,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_43:=[[613.650008758,0.657632277,635.022415918],[0.180930323,0.680778608,0.685228425,0.185112697],[0,-2,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_223:=[[-57.971,255.148875358,-112.574935171],[0.981581407,-0.067674851,-0.176338581,0.02868381],[0,1,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_23:=[[90,135.000119543,-50.000227643],[0.91233912,0.157331615,-0.224692832,-0.303969117],[0,0,2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_73:=[[27.67528738,130.59,24.565118359],[0.643769359,0.301749216,-0.307062234,-0.632630387],[0,-1,2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_183:=[[-251.810844658,69.197940835,173.103147018],[0.62226199,-0.011742099,0.358606837,0.695739373],[-1,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_23_2:=[[87.352,386.597197573,-40.414688188],[0.016020064,0.269132603,0.077170514,-0.959872758],[0,0,1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_73_2:=[[27.675,380.590325486,24.564889471],[0.233606261,0.415841787,-0.11142447,-0.871830436],[0,0,1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_23_3:=[[-27,135.000119543,-50.000227643],[0.274299299,0.2742993,0.000000001,-0.921693978],[0,0,1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_73_3:=[[-105.608923706,130.568053055,23.813769266],[0.646296304,0.300523397,-0.308262479,-0.630048426],[0,-1,2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_23_4:=[[-27,386.597197573,-40.414688188],[0.690060432,0.244873282,-0.135737695,-0.667404641],[0,0,1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_73_4:=[[-105,380.590325486,24.564889471],[0.451292642,0.372833548,-0.215255549,-0.781661785],[0,0,1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_23_5:=[[-172,135.000119543,-50.000227643],[0.955322949,0.047631573,-0.270132076,0.110081597],[0,1,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_73_5:=[[-241.530890943,130.572170014,23.910023149],[0.645267142,0.301025466,-0.307772199,-0.631102414],[0,-1,2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_23_6:=[[-172.135,382.72932348,-40.215284075],[0.004787265,0.283330559,-0.146599215,-0.947739176],[0,1,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_73_6:=[[-238.631698022,380.567179963,23.78558778],[0.24509992,0.414336417,-0.116899172,-0.868669066],[0,1,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_8_2:=[[-250,-109,170],[0,0,0.707106781,0.707106781],[-1,1,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_1_2:=[[100,-165,200],[0,0,0.707106781,0.707106781],[-1,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_1_2_2:=[[100,-179,200],[0,0,0.707106781,0.707106781],[-1,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_233:=[[610.007,38.001,712.376],[0.707298046,-0.000012345,0.706915464,0.000012338],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST jointtarget HH:=[[0,0,0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    


    
    PROC Path_10()
        MoveAbsJ JointTarget_6,v1000,z100,Gancho\WObj:=WorkBanda;
        MoveJ Target_0,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_0,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_1,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_1,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_2,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_3,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_4,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_5,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_5_2,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_5,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_5_2,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_6,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_7,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_8,v100,z100,Gancho\WObj:=WorkBanda;
    ENDPROC
    PROC Banda_Piso()
        MoveAbsJ HH,v1000,z100,Ventosa\WObj:=wobj0;
        MoveJ Target_0,v400,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_0,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_1,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_1,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_2,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_3,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_4,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_5,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_5_2,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_5,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_5_2,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_6,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_7,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_8,v100,z100,Gancho\WObj:=WorkBanda;
    ENDPROC
    PROC Pieza_1()
        MoveL Target_23,v150,z100,Ventosa\WObj:=WorkEstante;
        MoveJ Target_73,v100,z100,Ventosa\WObj:=WorkEstante;
    ENDPROC
    PROC Pieza_1B()
        MoveJ Target_23,v100,z100,Ventosa\WObj:=WorkEstante;
        MoveJ Target_183,v300,z100,Ventosa\WObj:=WorkBanda;
    ENDPROC
    PROC Pieza_2()
        MoveL Target_23_2,v150,z100,Ventosa\WObj:=WorkEstante;
        MoveJ Target_73_2,v100,z100,Ventosa\WObj:=WorkEstante;
    ENDPROC
    PROC Pieza_2B()
        MoveJ Target_23_2,v100,z100,Ventosa\WObj:=WorkEstante;
        MoveJ Target_183,v300,z100,Ventosa\WObj:=WorkBanda;
    ENDPROC
    PROC Pieza_3()
        MoveL Target_23_3,v150,z100,Ventosa\WObj:=WorkEstante;
        MoveJ Target_73_3,v100,z100,Ventosa\WObj:=WorkEstante;
    ENDPROC
    PROC Pieza_3B()
        MoveJ Target_23_3,v100,z100,Ventosa\WObj:=WorkEstante;
        MoveJ Target_183,v300,z100,Ventosa\WObj:=WorkBanda;
    ENDPROC
    PROC Pieza_4()
        MoveJ Target_23_4,v150,z100,Ventosa\WObj:=WorkEstante;
        MoveJ Target_73_4,v100,z100,Ventosa\WObj:=WorkEstante;
    ENDPROC
    PROC Pieza_4B()
        MoveJ Target_23_4,v100,z100,Ventosa\WObj:=WorkEstante;
        MoveJ Target_183,v300,z100,Ventosa\WObj:=WorkBanda;
    ENDPROC
    PROC Pieza_5()
        MoveJ Target_23_5,v150,z100,Ventosa\WObj:=WorkEstante;
        MoveJ Target_73_5,v100,z100,Ventosa\WObj:=WorkEstante;
    ENDPROC
    PROC Pieza_5B()
        MoveJ Target_23_5,v100,z100,Ventosa\WObj:=WorkEstante;
        MoveJ Target_183,v300,z100,Ventosa\WObj:=WorkBanda;
    ENDPROC
    PROC Pieza_6()
        MoveJ Target_23_6,v150,z100,Ventosa\WObj:=WorkEstante;
        MoveJ Target_73_6,v100,z100,Ventosa\WObj:=WorkEstante;
    ENDPROC
    PROC Pieza_6B()
        MoveJ Target_23_6,v100,z100,Ventosa\WObj:=WorkEstante;
        MoveJ Target_183,v300,z100,Ventosa\WObj:=WorkBanda;
    ENDPROC
    PROC Piso_Banda()
        MoveJ Target_8_2,v100,z100,Ventosa\WObj:=WorkBanda;
        MoveJ Target_8_2,v50,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_7,v200,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_6,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_5_2,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_5,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_4,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_3,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_2,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_1_2,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_1_2_2,v80,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_1,v100,z100,Gancho\WObj:=WorkBanda;
        MoveL Target_0,v100,z100,Gancho\WObj:=WorkBanda;
        MoveAbsJ HH,v1000,z100,Ventosa\WObj:=wobj0;
    ENDPROC
    PROC Main()
        
        WHILE TRUE DO
        IF DI_01 = 1 THEN
            
            SetDO DO_03,1;
            
            Banda_Piso;
            
            WAITTIME 0.1;
            
            Pieza_1;
            WAITTIME 0.25;
            SetDO DO_01,1;
            WAITTIME 0.35;
            SetDO DO_01,0;
            Pieza_1B;
            WAITTIME 0.8;
            SetDO DO_02,1;
            WAITTIME 0.35;
            SetDO DO_02,0;
            
            Pieza_4;
            WAITTIME 0.25;
            SetDO DO_01,1;
            WAITTIME 0.35;
            SetDO DO_01,0;
            Pieza_4B;
            WAITTIME 0.8;
            SetDO DO_02,1;
            WAITTIME 0.35;
            SetDO DO_02,0;
               
            Pieza_5;
            WAITTIME 0.25;
            SetDO DO_01,1;
            WAITTIME 0.35;
            SetDO DO_01,0;
            Pieza_5B;
            WAITTIME 0.8;
            SetDO DO_02,1;
            WAITTIME 0.35;
            SetDO DO_02,0;
             
            Piso_Banda;
            SetDO DO_03,0;

            
            
        ELSEIF DI_02 = 1 THEN
            SetDO DO_04,1;
            
            Banda_Piso;
            
            WAITTIME 0.1;
            
            Pieza_4;
            WAITTIME 0.25;
            SetDO DO_01,1;
            WAITTIME 0.35;
            SetDO DO_01,0;
            Pieza_4B;
            WAITTIME 0.8;
            SetDO DO_02,1;
            WAITTIME 0.35;
            SetDO DO_02,0;
              
            Pieza_5;
            WAITTIME 0.25;
            SetDO DO_01,1;
            WAITTIME 0.35;
            SetDO DO_01,0;
            Pieza_5B;
            WAITTIME 0.8;
            SetDO DO_02,1;
            WAITTIME 0.35;
            SetDO DO_02,0;
             
            Pieza_6;
            WAITTIME 0.25;
            SetDO DO_01,1;
            WAITTIME 0.35;
            SetDO DO_01,0;
            Pieza_6B;
            WAITTIME 0.8;
            SetDO DO_02,1;
            WAITTIME 0.35;
            SetDO DO_02,0;
             
            
            Piso_Banda;
            SetDO DO_04,0;
            
            
        ELSEIF DI_03 = 1 THEN
            SetDO DO_05,1;
            
            Banda_Piso;
            
            WAITTIME 0.1;
            
            Pieza_6;
            WAITTIME 0.25;
            SetDO DO_01,1;
            WAITTIME 0.35;
            SetDO DO_01,0;
            Pieza_6B;
            WAITTIME 0.8;
            SetDO DO_02,1;
            WAITTIME 0.35;
            SetDO DO_02,0;
             
            Pieza_1;
            WAITTIME 0.25;
            SetDO DO_01,1;
            WAITTIME 0.35;
            SetDO DO_01,0;
            Pieza_1B;
            WAITTIME 0.8;
            SetDO DO_02,1;
            WAITTIME 0.35;
            SetDO DO_02,0;
             
            Pieza_5;
            WAITTIME 0.25;
            SetDO DO_01,1;
            WAITTIME 0.35;
            SetDO DO_01,0;
            Pieza_5B;
            WAITTIME 0.8;
            SetDO DO_02,1;
            WAITTIME 0.35;
            SetDO DO_02,0;
             
            Piso_Banda;
            SetDO DO_05,0;
            
        ENDIF
                
        WAITTIME 0.1;
        
        ENDWHILE

    ENDPROC
ENDMODULE